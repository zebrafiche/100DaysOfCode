<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/image.min.css"></head><body><div class="container"><div class="row"><div class="col-md-10 col-md-offset-1 ui image"><p class="lead"><p>We saw that when using a basic HTML form, we can use the request object from Flask to access the key-value pairs that were entered into the form when the POST request was made. </p><p>With WTForms, it's even easier to get hold of the form data. All you have to do is to tap into the </p><p><code>&lt;form_object&gt;.&lt;form_field&gt;.data</code></p><p><a href="https://wtforms.readthedocs.io/en/2.3.x/crash_course/#how-forms-get-data" rel="noopener noreferrer" target="_blank">Documentation</a></p><p>e.g.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-25_08-38-33-1e2c8631fba7c94a70c60048d2a7ddc7.png"></figure><p>But one thing we should check before printing the field data is whether if the form has been submitted (POST request) or if it's GET request when the form is being rendered. </p><p>Previously we used </p><p><code>if request.method == "POST"</code> </p><p>Now, we're simply going to check the return value of <code>validate_on_submit()</code> which will be <code>True</code> if validation was successful <strong>after the user submitted the form</strong>, or <code>False</code> if it failed.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-25_08-48-42-195fda6b77045e02d6ae626375cc3431.png"></figure><p><br></p><p>CHALLENGE: Update the <code>/login</code> route in <strong>main.py</strong> so that if the form was <strong>submitted</strong> and <strong>validated</strong> and their <strong>credentials</strong> matched the following:</p><p>email: <strong>admin@email.com</strong></p><p>password: <strong>12345678</strong></p><p>then show them the <strong>success.html</strong> page.</p><p>Otherwise show them the <strong>denied.html</strong> page</p><p>e.g.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-25_08-58-28-4ca4ce574228fee92120e4a62081239d.gif"></figure><p>SOLUTION:</p><p><a href="https://gist.github.com/angelabauer/20ba20298ee26c957f36176291de9d69" rel="noopener noreferrer" target="_blank">https://gist.github.com/angelabauer/20ba20298ee26c957f36176291de9d69</a></p></p></div></div></div></body></html>