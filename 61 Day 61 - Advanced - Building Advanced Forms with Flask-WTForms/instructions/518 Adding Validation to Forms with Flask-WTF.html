<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/image.min.css"></head><body><div class="container"><div class="row"><div class="col-md-10 col-md-offset-1 ui image"><p class="lead"><p>One of the biggest reasons why we would choose WTForms over HTML Forms is the built-in validation. Instead of us having to write our own validation code e.g. emails should contain a "@" and a "." to be valid or make sure that passwords are minimum of 8 characters, we can use all these validation rules straight out of the box from WTForms.</p><p><br></p><p>1. We can add validator objects when we create each field in our form. e.g.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-24_16-13-53-c49cc801108c427a9cadd93de4d8bd32.png"></figure><p><a href="https://wtforms.readthedocs.io/en/2.3.x/crash_course/#validators" rel="noopener noreferrer" target="_blank">Documentation</a></p><p>The <code>validators</code> parameter accepts a <strong>List</strong> of validator <strong>Objects</strong>. DataRequired makes the two fields required fields, so the user must type something, otherwise an error will be generated. </p><p>When a form is submitted, there may be a number of errors, so a List of <code>errors</code> can be generated and passed over to our form HTML as a property on the field which generated the error, e.g.</p><p><code>form.&lt;field&gt;.errors</code> </p><p><br></p><p>2. We can tap into these errors and loop through them to show some text when an error appears. </p><p><a href="https://wtforms.readthedocs.io/en/2.3.x/crash_course/#displaying-errors" rel="noopener noreferrer" target="_blank">Documentation</a></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-24_16-21-04-eb8f05da7a09184f156d6ccd7a1522df.png"></figure><p><br></p><p>3. The final step is to tell our form to validate the user's entry when they hit submit. so we have to edit our route and make sure it is able to respond to <code>POST</code> requests and then to <code>validate_on_submit()</code>.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-25_08-13-14-89387e09f36b8f63aae1e33f30c09724.png"></figure><p><br></p><p>If you tried to test your form at the moment, you will see that if you leave a field empty, it might give you a pop-up e.g. on Chrome:</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-25_08-17-00-ba15d76d052dee8ff49356e05ae3e164.png"></figure><p>This behaviour is not from our validator, in fact it's a built-in mechanism that varies from browser to browser. You'll see something different on Firefox or Safari. But If your user is running Internet Explorer, they won't see any validation. </p><p>4. In order to make sure that we are giving all users field validation, we have to switch off the browser validation, and we do that with an attribute on the form element called <code>novalidate</code>. </p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-25_08-19-40-61810541145037768fb00762759e4aca.png"></figure><p>Now test your validation, it should give you a warning in red if you leave any field empty and click "Log In". e.g.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-25_08-22-36-16a174fab1853956e451edd94a7f6ffc.png"></figure><p><br></p><p>CHALLENGE: Using <a href="https://wtforms.readthedocs.io/en/2.3.x/validators/#module-wtforms.validators" rel="noopener noreferrer" target="_blank">the documentation on WTForm validators</a>, add <code>Email</code> validation to the email field so that you must type a <strong>valid email</strong> (with "@" and ".") otherwise you get an error. Also add <code>Length</code> validation to the password, so you must type at least <strong>8 characters.</strong></p><p>e.g. Email without "@" and 4 character password:</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-09-25_08-33-52-83c9c242524473adeec979f1e73a1831.png"></figure><p><em>Hint</em>:&nbsp;Pay close attention if the documentation mentions anything about installing an additional package to get email validation to work. If so, you may want to pip install that package through the Terminal. </p></p></div></div></div></body></html>